(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],m=0,u=[];m<o.length;m++)n=o[m],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&u.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},i=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),r=a.n(s);r.a},"113c":function(t,e,a){t.exports=a.p+"img/default.03fa7026.png"},"2ace":function(t,e,a){"use strict";var s=a("debf"),r=a.n(s);r.a},"2ae2":function(t,e,a){"use strict";var s=a("ff1b"),r=a.n(s);r.a},"37de":function(t,e,a){},4600:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("4989"),a("7e7d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.islogin,expression:"islogin"}]},[t._m(0),a("sideNav",{staticClass:"noprint"}),a("div",{attrs:{id:"mainBody"}},[a("router-view")],1)],1),t.islogin?t._e():a("div",{attrs:{id:"login"}},[a("login")],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"noprint",attrs:{id:"header"}},[a("span",[t._v("QUARANTINE PASS MANAGEMENT SYSTEM")])])}],n=(a("ac1f"),a("5319"),a("5530")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",[a("span",{attrs:{id:"toggle-button"}},[t._v("â˜°")]),a("div",{attrs:{id:"accountinfo"}},[t._m(0),a("div",{staticClass:"col-7",staticStyle:{"padding-top":"13px"},attrs:{id:"nameinfo"}},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("Welcome")]),a("br"),null!=t.userinfo?a("div",[a("span",[t._v(t._s(t.userinfo.fullname))]),a("br"),a("small",{staticStyle:{color:"lightgray"}},[t._v(t._s(t.userinfo.email))])]):t._e()])]),a("ul",[a("li",{attrs:{id:"dashboardnav"}},[a("router-link",{attrs:{to:{name:"dashboard"}}},[a("i",{staticClass:"fa fa-chart-pie"}),t._v(" "),a("i",{staticClass:"navtext"},[t._v(" Dashboard")])])],1),a("li",{attrs:{id:"barangaynav"}},[a("router-link",{attrs:{to:{name:"barangay"}}},[a("i",{staticClass:"fa fa-city"}),t._v(" "),a("i",{staticClass:"navtext"},[t._v(" Manage Barangays")])])],1),a("li",{attrs:{id:"familynav"}},[a("router-link",{attrs:{to:{name:"family"}}},[a("i",{staticClass:"fa fa-users"}),t._v(" "),a("i",{staticClass:"navtext"},[t._v(" Manage Families")])])],1),t._m(1),a("li",{attrs:{id:"usernav"}},[a("router-link",{attrs:{to:{name:"user"}}},[a("i",{staticClass:"fa fa-cogs"}),t._v(" "),a("i",{staticClass:"navtext"},[t._v(" Manage Users")])])],1),a("li",{ref:"familynav"},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:t.logout}},[a("i",{staticClass:"fa fa-power-off"}),t._v(" "),a("i",{staticClass:"navtext"},[t._v(" Logout")])])])])])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-4"},[s("a",{attrs:{href:"profile.html"}},[s("img",{staticStyle:{width:"80px"},attrs:{src:a("113c"),id:"imageinfo"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"navtitle",staticStyle:{background:"#081B15",color:"gray"}},[a("span",{staticStyle:{opacity:"0"}},[t._v("Others")])])}],c={name:"sidenav",methods:{logout:function(){confirm("Leave this Application?")&&(this.$store.dispatch("logout"),this.$router.replace("/"))}},computed:{userinfo:function(){return JSON.parse(this.$store.state.userinfo)}},mounted:function(){}},d=c,m=(a("73de"),a("2877")),u=Object(m["a"])(d,o,l,!1,null,"f8770134",null),f=u.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"text-align":"center"}},[t.successlogin?s("div",[s("img",{staticStyle:{width:"100px",height:"100px","margin-bottom":"20px"},attrs:{src:a("fa5e")}}),s("br"),s("span",{staticStyle:{"font-size":"12pt","font-weight":"bold"}},[t._v("Loading ... Please Wait !")])]):s("div",{staticClass:"container"},[s("div",{staticClass:"card",attrs:{id:"logindiv"}},[s("div",{staticClass:"card-body"},[t._m(0),s("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,a){return s("strong",{key:a},t._l(e,(function(e,a){return s("span",{key:a},[t._v(t._s(e)),e.length>1?s("br"):t._e()])})),0)})),0),s("div",{staticClass:"form-group",staticStyle:{"margin-top":"20px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"username"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),s("button",{staticClass:"btn btn-primary form-control",on:{click:t.login}},[t._v("Login")])])])])])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"center"}},[a("span",{attrs:{id:"systemTitle"}},[t._v("EHQ Management System")])])}],g=(a("d3b7"),{name:"login",data:function(){return{user:{email:"raquem.alvin@gmail.com",password:"Lxgiwyl1234"},successlogin:!1,errormsg:[]}},methods:{login:function(){var t=this;this.$store.dispatch("login",this.user).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.showloadingScreen(e).then((function(e){t.$store.dispatch("authenticated",e)}))})).catch((function(e){401==e.response.status&&e.response.data.msg&&(t.errormsg=e.response.data.msg,t.$refs.errormessage.classList.add("show"))}))},showloadingScreen:function(t){var e=this;return new Promise((function(a,s){try{e.successlogin=!0,setTimeout((function(){a(t)}),1500)}catch(r){s(r)}}))}}}),v=g,y=(a("2ae2"),Object(m["a"])(v,p,h,!1,null,"5e2dfab0",null)),b=y.exports,_=a("2f62"),C={name:"App",data:function(){return{}},mounted:function(){var t=this;t.islogin||t.$router.replace("/")},computed:Object(n["a"])({},Object(_["d"])(["islogin"])),methods:{},components:{sideNav:f,login:b}},w=C,S=(a("034f"),Object(m["a"])(w,r,i,!1,null,null,null)),x=S.exports,k=(a("4160"),a("159b"),a("8c4f")),$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("hr"),a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header bg-primary"}),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table"},[t._m(1),a("tbody",t._l(t.getData.tabledata,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.barangay))]),a("td",[t._v(t._s(e.registeredFamilies))]),a("td",[t._v(t._s(e.registeredMembers))])])})),0)])])])]),a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header bg-primary"}),a("div",{staticClass:"card-body ditem"},[a("span",{staticClass:"fa fa-city",staticStyle:{"font-size":"40pt"}}),a("span",{staticClass:"dashboard-item"},[t._v("Barangays")]),a("span",{staticClass:"dashboard-item-count"},[t._v(t._s(t.getData.barangaycount))])])])]),a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header bg-primary"}),a("div",{staticClass:"card-body ditem"},[a("span",{staticClass:"fa fa-road",staticStyle:{"font-size":"40pt"}}),a("span",{staticClass:"dashboard-item"},[t._v("Streets")]),a("span",{staticClass:"dashboard-item-count"},[t._v(t._s(t.getData.streetcount))])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header bg-primary"}),a("div",{staticClass:"card-body ditem"},[a("span",{staticClass:"fa fa-cog",staticStyle:{"font-size":"40pt"}}),a("span",{staticClass:"dashboard-item"},[t._v("Users")]),a("span",{staticClass:"dashboard-item-count"},[t._v(t._s(t.getData.usercount))])])])]),a("div",{staticClass:"col col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header bg-primary"}),a("div",{staticClass:"card-body ditem"},[a("span",{staticClass:"fa fa-users",staticStyle:{"font-size":"40pt"}}),a("span",{staticClass:"dashboard-item"},[t._v("Families")]),a("span",{staticClass:"dashboard-item-count"},[t._v(t._s(t.getData.familycount))])])])])])])])},A=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-chart-pie"}),t._v(" Dashboard")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"table-dark"},[a("tr",[a("th",[t._v("Barangay")]),a("th",[t._v("Registered Family")]),a("th",[t._v("Estimated Population")])])])}],N={name:"dashboard",computed:Object(n["a"])({},Object(_["c"])("dashboard",["getData"])),mounted:function(){this.$store.dispatch("dashboard/getData"),this.$store.dispatch("activenav","dashboardnav")}},O=N,P=(a("2ace"),Object(m["a"])(O,$,A,!1,null,"0b580480",null)),U=P.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showcreatemodal?a("createComponent",{on:{closemodal:t.closemodal}}):t._e(),t.showeditmodal?a("editComponent",{attrs:{barangaydata:t.editData},on:{closemodal:t.closemodal}}):t._e(),t._m(0),a("hr"),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",staticStyle:{background:"#10362B",color:"white"}},[a("button",{staticClass:"btn btn-default float-right text-white",on:{click:function(e){t.showcreatemodal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")])]),a("div",{staticClass:"card-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"Search via Barangay Name..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("table",{staticClass:"table table-bordered table-condensed"},[t._m(1),a("tbody",t._l(t.barangaylist,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.barangay))]),a("td",[t._v(t._s(e.code))]),a("td",[t._v(t._s(e.district))]),a("td",[t._v(t._s(e.chairman))]),a("td",[a("span",{staticStyle:{"margin-right":"20px"}},[t._v(t._s(e.Streets.length))]),t._v(" || "),a("router-link",{staticStyle:{"margin-left":"20px",color:"green"},attrs:{to:{name:"barangaystreets",params:{barangay:e.barangay,id:e.id}}}},[t._v("Manage Streets")])],1),a("td",[t._v(t._s(t.calculateFamilyCount(s)))]),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.edit(s)}}},[a("span",{staticClass:"fa fa-edit"}),t._v(" Edit")]),a("a",{staticStyle:{"margin-left":"20px",color:"maroon"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.remove(s)}}},[a("span",{staticClass:"fa fa-times"}),t._v(" Remove")])])])})),0)]),t.loading?a("loadingComponent"):t._e()],1)])])],1)},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-city"}),t._v(" Barangay(s) List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#DFDFDF"}},[a("th",[t._v("#")]),a("th",[t._v("Barangay")]),a("th",[t._v("Code")]),a("th",[t._v("District")]),a("th",[t._v("Chairman")]),a("th",[t._v("# of Streets")]),a("th",[t._v("Family Registered")]),a("th")])])}],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content modal-50"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"close-modal",on:{click:function(e){return t.closethis()}}},[t._v("Ã—")])]),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("strong",{key:s},[t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),a("br")],2)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Barangay")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.barangay.barangay,expression:"barangay.barangay"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.barangay.barangay},on:{input:function(e){e.target.composing||t.$set(t.barangay,"barangay",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Code")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.barangay.code,expression:"barangay.code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Sample Format is A0001-A"},domProps:{value:t.barangay.code},on:{input:function(e){e.target.composing||t.$set(t.barangay,"code",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("District")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.barangay.district,expression:"barangay.district"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.barangay,"district",e.target.multiple?a:a[0])}}},[a("option",[t._v("1")]),a("option",[t._v("2")])])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Chairman")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.barangay.chairman,expression:"barangay.chairman"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.barangay.chairman},on:{input:function(e){e.target.composing||t.$set(t.barangay,"chairman",e.target.value)}}})]),a("button",{staticClass:"float-right btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.save()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])])])},L=[],E={name:"createbarangay",data:function(){return{barangay:{barangay:"",code:"",district:1,chairman:""},errormsg:[]}},methods:Object(n["a"])({closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.saveBarangay(this.barangay).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){console.log(t)}))}},Object(_["b"])("barangay",["saveBarangay"]))},F=E,M=Object(m["a"])(F,I,L,!1,null,null,null),B=M.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content modal-50"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"close-modal",on:{click:function(e){return t.closethis()}}},[t._v("Ã—")])]),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("strong",{key:s},[t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),a("br")],2)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Barangay")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.barangay.barangay,expression:"barangay.barangay"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.barangay.barangay},on:{input:function(e){e.target.composing||t.$set(t.barangay,"barangay",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Code")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.barangay.code,expression:"barangay.code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Sample Format is A0001-A"},domProps:{value:t.barangay.code},on:{input:function(e){e.target.composing||t.$set(t.barangay,"code",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("District")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.barangay.district,expression:"barangay.district"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.barangay,"district",e.target.multiple?a:a[0])}}},[a("option",[t._v("1")]),a("option",[t._v("2")])])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Chairman")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.barangay.chairman,expression:"barangay.chairman"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.barangay.chairman},on:{input:function(e){e.target.composing||t.$set(t.barangay,"chairman",e.target.value)}}})]),a("button",{staticClass:"float-right btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.update()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},T=[],G={name:"editbarangay",props:{barangaydata:{type:Object,required:!0}},data:function(){return{errormsg:[],barangay:JSON.parse(JSON.stringify(this.barangaydata))}},methods:Object(n["a"])({closethis:function(){this.$emit("closemodal")},update:function(){var t=this;this.updateBarangay(this.barangay).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){console.log(t)}))}},Object(_["b"])("barangay",["updateBarangay"]))},R=G,J=Object(m["a"])(R,z,T,!1,null,null,null),H=J.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"text-align":"center"}},[s("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:a("cf1c")}})])}],Y={name:"loading"},K=Y,W=Object(m["a"])(K,q,Q,!1,null,null,null),V=W.exports,X={name:"barangayIndex",data:function(){return{showcreatemodal:!1,showeditmodal:!1,editData:{},loading:!0,barangaylist:[],search:"",typingTimer:"",doneTimingInterval:500}},watch:{search:function(t){var e=this;clearTimeout(this.typingTimer),t.length>0?this.typingTimer=setTimeout((function(){e.loading=!0,e.barangaylist=[],e.searchBarangay(t).then((function(){e.loading=!1,e.barangaylist=e.barangays}))}),this.doneTimingInterval):(this.loading=!0,this.barangaylist=[],this.getList().then((function(){e.loading=!1,e.barangaylist=e.barangays})))}},methods:Object(n["a"])({},Object(_["b"])("barangay",["getList","removeBarangay","searchBarangay"]),{closemodal:function(){this.showcreatemodal=!1,this.showeditmodal=!1},edit:function(t){this.showeditmodal=!0,this.editData=this.barangays[t],this.editData.index=t},calculateFamilyCount:function(t){var e=0;return this.barangays[t].Streets.forEach((function(t){t.Addresses.forEach((function(){e+=1}))})),e},remove:function(t){if(confirm("Are you sure you want to remove this?")){var e={barangay:this.barangays[t],index:t};this.removeBarangay(e)}}}),computed:Object(n["a"])({},Object(_["c"])("barangay",["barangays"])),mounted:function(){var t=this;this.getList().then((function(){t.loading=!1,t.barangaylist=t.barangays})),this.$store.dispatch("activenav","barangaynav")},components:{createComponent:B,editComponent:H,loadingComponent:V}},Z=X,tt=Object(m["a"])(Z,D,j,!1,null,null,null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showcreatemodal?a("createComponent",{on:{closemodal:t.closemodal}}):t._e(),t.showeditmodal?a("editComponent",{attrs:{userData:t.userData},on:{closemodal:t.closemodal}}):t._e(),t.showchangepassmodal?a("changePass",{attrs:{userData:t.userData},on:{closemodal:t.closemodal}}):t._e(),t._m(0),a("hr"),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",staticStyle:{background:"#10362B",color:"white"}},[a("button",{staticClass:"btn btn-default float-right text-white",on:{click:function(e){t.showcreatemodal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")])]),a("div",{staticClass:"card-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"Search via Full Name..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("table",{staticClass:"table table-bordered table-condensed"},[t._m(1),a("tbody",t._l(t.userlist,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.fullname))]),a("td",[t._v(t._s(e.email))]),a("td",[a("a",{staticStyle:{color:"green"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.edit(s)}}},[a("span",{staticClass:"fa fa-edit"}),t._v(" Edit")]),a("a",{staticStyle:{"margin-left":"20px"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.changepass(s)}}},[a("span",{staticClass:"fa fa-edit"}),t._v(" Change Password")]),e.email!=t.userinfo.email?a("a",{staticStyle:{color:"maroon","margin-left":"20px"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.remove(s)}}},[a("span",{staticClass:"fa fa-times"}),t._v(" Remove")]):t._e()])])})),0)]),t.loading?a("loadingComponent"):t._e()],1)])])],1)},st=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-user"}),t._v(" User(s) List")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#DFDFDF"}},[a("th",[t._v("#")]),a("th",[t._v("Full Name")]),a("th",[t._v("Email Address")]),a("th",{attrs:{width:"25%"}})])])}],rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content modal-50"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"close-modal",on:{click:function(e){return t.closethis()}}},[t._v("Ã—")])]),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("strong",{key:s},[t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),a("br")],2)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Fullname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.fullname,expression:"user.fullname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.fullname},on:{input:function(e){e.target.composing||t.$set(t.user,"fullname",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password_confirmation,expression:"user.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.user,"password_confirmation",e.target.value)}}})]),a("button",{staticClass:"float-right btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.save()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])])])},it=[],nt={name:"createuser",data:function(){return{user:{fullname:"",email:"",password:"",password_confirmation:""},errormsg:[]}},methods:Object(n["a"])({closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.saveuser(this.user).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){console.log(t)}))}},Object(_["b"])("user",["saveuser"]))},ot=nt,lt=Object(m["a"])(ot,rt,it,!1,null,null,null),ct=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content modal-50"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"close-modal",on:{click:function(e){return t.closethis()}}},[t._v("Ã—")])]),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("strong",{key:s},[t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),a("br")],2)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password_confirmation,expression:"user.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.user.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.user,"password_confirmation",e.target.value)}}})]),a("button",{staticClass:"float-right btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.changepass()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Change Pass")])])])])])},mt=[],ut={name:"changepassword",props:{userData:{type:Object,required:!0}},data:function(){return{user:{password:"",password_confirmation:""},userInfo:JSON.parse(JSON.stringify(this.userData)),errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},changepass:function(){var t=this,e={data:this.user,id:this.userInfo.id,index:this.userInfo.index};this.$store.dispatch("user/changepass",e).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){return console.log(t)}))}}},ft=ut,pt=Object(m["a"])(ft,dt,mt,!1,null,null,null),ht=pt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content modal-50"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"close-modal",on:{click:function(e){return t.closethis()}}},[t._v("Ã—")])]),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("strong",{key:s},[t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),a("br")],2)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Fullname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.fullname,expression:"user.fullname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.user.fullname},on:{input:function(e){e.target.composing||t.$set(t.user,"fullname",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Email Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),a("button",{staticClass:"float-right btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.update()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},vt=[],yt={name:"edituser",props:{userData:{type:Object,required:!0}},data:function(){return{user:JSON.parse(JSON.stringify(this.userData)),errormsg:[]}},mounted:function(){},methods:{closethis:function(){this.$emit("closemodal")},update:function(){var t=this;this.user.oldemail=this.userData.email,this.$store.dispatch("user/updateUser",this.user).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()}))}}},bt=yt,_t=Object(m["a"])(bt,gt,vt,!1,null,null,null),Ct=_t.exports,wt={name:"userIndex",data:function(){return{showcreatemodal:!1,showeditmodal:!1,showchangepassmodal:!1,loading:!0,userlist:[],userData:{},search:"",typingTimer:"",doneTimingInterval:500}},watch:{search:function(t){var e=this;clearTimeout(this.typingTimer),t.length>0?this.typingTimer=setTimeout((function(){e.loading=!0,e.userlist=[],e.$store.dispatch("user/searchUser",t).then((function(){e.loading=!1,e.userlist=e.users}))}),this.doneTimingInterval):(this.loading=!0,this.userlist=[],this.$store.dispatch("user/getUsers").then((function(){e.loading=!1,e.userlist=e.users})))}},methods:{closemodal:function(){this.showcreatemodal=!1,this.showeditmodal=!1,this.showchangepassmodal=!1},remove:function(t){if(confirm("Are you sure you want to remove this?")){var e={user:this.users[t],index:t};this.$store.dispatch("user/removeUser",e)}},changepass:function(t){this.userData=this.userlist[t],this.userData.index=t,this.showchangepassmodal=!0},edit:function(t){this.userData=this.userlist[t],this.userData.index=t,this.showeditmodal=!0}},mounted:function(){var t=this;this.$store.dispatch("activenav","usernav"),this.$store.dispatch("user/getUsers").then((function(){t.loading=!1,t.userlist=t.users}))},computed:Object(n["a"])({},Object(_["c"])("user",["users"]),{},Object(_["d"])({userinfo:function(t){return JSON.parse(t.userinfo)}})),components:{createComponent:ct,loadingComponent:V,changePass:ht,editComponent:Ct}},St=wt,xt=Object(m["a"])(St,at,st,!1,null,null,null),kt=xt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showcreatemodal?a("createComponent",{on:{closemodal:t.closemodal}}):t._e(),t.showeditmodal?a("editComponent",{attrs:{street:t.editData},on:{closemodal:t.closemodal}}):t._e(),a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-road"}),t._v(" "+t._s(t.barangay.name)+" Streets")]),a("hr"),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",staticStyle:{background:"#10362B",color:"white"}},[a("span",{staticClass:"btn btn-default float-left text-white",on:{click:function(e){return t.back()}}},[a("i",{staticClass:"fa fa-arrow-left"}),t._v(" back")]),a("button",{staticClass:"btn btn-default float-right text-white",on:{click:function(e){t.showcreatemodal=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")])]),a("div",{staticClass:"card-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"Search via Street Name..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("table",{staticClass:"table table-bordered table-condensed"},[t._m(0),a("tbody",t._l(t.streetlist,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.street))]),a("td",[t._v(t._s(e.purokLeader))]),a("td",[t._v(t._s(e.Addresses.length))]),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.edit(s)}}},[a("span",{staticClass:"fa fa-edit"}),t._v(" Edit")]),a("a",{staticStyle:{"margin-left":"20px",color:"maroon"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.remove(s)}}},[a("span",{staticClass:"fa fa-times"}),t._v(" Remove")])])])})),0)]),t.loading?a("loadingComponent"):t._e()],1)])])],1)},At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#DFDFDF"}},[a("th",[t._v("#")]),a("th",[t._v("Street")]),a("th",[t._v("Purok Leader")]),a("th",[t._v("Family Registered")]),a("th")])])}],Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content modal-50"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"close-modal",on:{click:function(e){return t.closethis()}}},[t._v("Ã—")])]),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("strong",{key:s},[t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),a("br")],2)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Street")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.street.street,expression:"street.street"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.street.street},on:{input:function(e){e.target.composing||t.$set(t.street,"street",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Purok Leader")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.street.purokLeader,expression:"street.purokLeader"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.street.purokLeader},on:{input:function(e){e.target.composing||t.$set(t.street,"purokLeader",e.target.value)}}})]),a("button",{staticClass:"float-right btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.save()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Create")])])])])])},Ot=[],Pt={name:"createStreet",data:function(){return{street:{street:"",barangayId:this.$route.params.id,purokLeader:""},errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},save:function(){var t=this;this.$store.dispatch("street/save",this.street).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){console.log(t)}))}}},Ut=Pt,Dt=Object(m["a"])(Ut,Nt,Ot,!1,null,null,null),jt=Dt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content modal-50"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"close-modal",on:{click:function(e){return t.closethis()}}},[t._v("Ã—")])]),a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-horizontal"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("strong",{key:s},[t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),a("br")],2)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Street")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editStreet.street,expression:"editStreet.street"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editStreet.street},on:{input:function(e){e.target.composing||t.$set(t.editStreet,"street",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Purok Leader")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.editStreet.purokLeader,expression:"editStreet.purokLeader"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editStreet.purokLeader},on:{input:function(e){e.target.composing||t.$set(t.editStreet,"purokLeader",e.target.value)}}})]),a("button",{staticClass:"float-right btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.update()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},Lt=[],Et={name:"editStreet",props:{street:{type:Object,required:!0}},data:function(){return{errormsg:[],editStreet:JSON.parse(JSON.stringify(this.street))}},methods:{update:function(){var t=this;this.$store.dispatch("street/updateStreet",this.editStreet).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){return console.log(t)}))},closethis:function(){this.$emit("closemodal")}}},Ft=Et,Mt=Object(m["a"])(Ft,It,Lt,!1,null,null,null),Bt=Mt.exports,zt={name:"streetIndex",data:function(){return{barangay:{name:this.$route.params.barangay,id:this.$route.params.id},showcreatemodal:!1,showeditmodal:!1,editData:{},streetlist:[],loading:!0,search:"",typingTimer:"",doneTimingInterval:500}},watch:{search:function(t){var e=this;clearTimeout(this.typingTimer),t.length>0?this.typingTimer=setTimeout((function(){e.loading=!0,e.streetlist=[],e.$store.dispatch("street/searchStreet",{bid:e.barangay.id,search:t}).then((function(){e.loading=!1,e.streetlist=e.streets}))}),this.doneTimingInterval):(this.loading=!0,this.streetlist=[],this.$store.dispatch("street/getList",this.barangay.id).then((function(){e.loading=!1,e.streetlist=e.streets})))}},methods:{back:function(){this.$router.replace("/barangay")},closemodal:function(){this.showcreatemodal=!1,this.showeditmodal=!1},edit:function(t){this.showeditmodal=!0,this.editData=this.streets[t],this.editData.index=t},remove:function(t){if(confirm("Are you sure you want to remove this?")){var e={street:this.streets[t],index:t};this.$store.dispatch("street/removeStreet",e)}}},computed:Object(n["a"])({},Object(_["c"])("street",["streets"])),mounted:function(){var t=this;this.$store.dispatch("street/getList",this.barangay.id).then((function(){t.loading=!1,t.streetlist=t.streets})),this.$store.dispatch("activenav","barangaynav")},components:{createComponent:jt,editComponent:Bt,loadingComponent:V}},Tt=zt,Gt=Object(m["a"])(Tt,$t,At,!1,null,null,null),Rt=Gt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("hr"),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",staticStyle:{background:"#10362B",color:"white"}},[a("router-link",{attrs:{to:{name:"familyPassAll"}}},[a("button",{staticClass:"btn btn-default float-left text-white"},[a("span",{staticClass:"fa fa-print"}),t._v(" Generate Quarantine Pass")])]),a("router-link",{attrs:{to:{name:"newFamily"}}},[a("button",{staticClass:"btn btn-default float-right text-white"},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")])])],1),a("div",{staticClass:"card-body"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchtext,expression:"searchtext"}],staticClass:"form-control",staticStyle:{width:"50%"},attrs:{type:"text",placeholder:"Search via Family Name..."},domProps:{value:t.searchtext},on:{input:function(e){e.target.composing||(t.searchtext=e.target.value)}}}),a("table",{staticClass:"table table-bordered table-condensed"},[t._m(1),a("tbody",t._l(t.familyList,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(s+1))]),a("td",[t._v(t._s(e.family))]),a("td",[t._v(t._s(e.Address.householdNo))]),a("td",[t._v(t._s(e.Address.address))]),a("td",[t._v(t._s(e.Address.Street.street))]),a("td",[t._v(t._s(e.Address.Barangay.barangay))]),a("td",[t._v(t._s(e.Members.length))]),a("td",[a("router-link",{staticStyle:{color:"green"},attrs:{to:{name:"familyDetails",params:{id:e.id}}}},[a("span",{staticClass:"fa fa-info"}),t._v(" View Details")])],1)])})),0)]),t.loading?a("loadingComponent"):t._e()],1)])])])},Ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-users"}),t._v(" Registered Families")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticStyle:{background:"#DFDFDF"}},[a("th",[t._v("#")]),a("th",[t._v("Family Name")]),a("th",[t._v("Household No")]),a("th",[t._v("Address")]),a("th",[t._v("Street")]),a("th",[t._v("Barangay")]),a("th",[t._v("Members")]),a("th",{attrs:{width:"25%"}})])])}],qt={name:"familyIndex",data:function(){return{familyList:[],loading:!0,searchtext:"",typingTimer:"",doneTimingInterval:500}},watch:{searchtext:function(t){var e=this;clearTimeout(this.typingTimer),t.length>0?this.typingTimer=setTimeout((function(){e.loading=!0,e.familyList=[],e.searchFamily(t).then((function(){e.loading=!1,e.familyList=e.families}))}),this.doneTimingInterval):(this.loading=!0,this.familyList=[],this.getAll().then((function(){e.loading=!1,e.familyList=e.families})))}},methods:Object(n["a"])({},Object(_["b"])("family",["getAll","searchFamily"])),mounted:function(){var t=this;this.$store.dispatch("activenav","familynav"),this.getAll().then((function(){t.loading=!1,t.familyList=t.families}))},computed:Object(n["a"])({},Object(_["c"])("family",["families"])),components:{loadingComponent:V}},Qt=qt,Yt=Object(m["a"])(Qt,Jt,Ht,!1,null,null,null),Kt=Yt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("hr"),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",staticStyle:{background:"#10362B",color:"white"}},[a("router-link",{attrs:{to:{name:"family"}}},[a("button",{staticClass:"btn btn-default float-left text-white"},[a("span",{staticClass:"fa fa-arrow-left"}),t._v(" Back")])])],1),a("div",{staticClass:"card-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("strong",{key:s},[t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),a("br")],2)})),0),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"card"},[t._m(1),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Family Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.family.name,expression:"family.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.family.name},on:{input:function(e){e.target.composing||t.$set(t.family,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Household No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.family.household,expression:"family.household"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.family.household},on:{input:function(e){e.target.composing||t.$set(t.family,"household",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.family.address,expression:"family.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.family.address},on:{input:function(e){e.target.composing||t.$set(t.family,"address",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Barangay")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.family.barangay,expression:"family.barangay"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.family,"barangay",e.target.multiple?a:a[0])},t.prepareStreet]}},t._l(t.barangays,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.barangay))])})),0)]),a("div",{staticClass:"form-group"},[a("label",[t._v("Street")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.family.street,expression:"family.street"}],staticClass:"form-control",attrs:{disabled:t.sD},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.family,"street",e.target.multiple?a:a[0])}}},t._l(t.streets,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.street))])})),0)])])]),a("hr"),a("button",{staticClass:"btn btn-primary float-left",on:{click:function(e){return t.save()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")])]),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card"},[t._m(2),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{width:"20%"}},[t._v("Image")]),a("th",[t._v("Fullname")]),a("th",[t._v("Gender")]),a("th",[t._v("Birthday")]),a("th",{attrs:{width:"10%"}},[a("button",{staticClass:"form-control",staticStyle:{color:"green"},on:{click:t.addmember}},[a("span",{staticClass:"fa fa-plus"})])])])]),a("tbody",t._l(t.family.members,(function(e,s){return a("tr",{key:s},[a("td",[a("img",{staticClass:"form-control",staticStyle:{height:"100px"},attrs:{alt:"1x1 Picture",src:e.img},on:{click:function(e){return t.showuploadfile(s)}}}),a("input",{ref:"imgFile",refInFor:!0,staticClass:"form-control",staticStyle:{display:"none"},attrs:{type:"file",accept:".png,.jpg,.jpeg"},on:{change:function(e){return t.onFileChange(e,s)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.member,expression:"member.member"}],ref:"listmember",refInFor:!0,staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.member},on:{input:function(a){a.target.composing||t.$set(e,"member",a.target.value)}}})]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:e.gender,expression:"member.gender"}],staticClass:"form-control",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"gender",a.target.multiple?s:s[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.bday,expression:"member.bday"}],ref:"listbday",refInFor:!0,staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.bday},on:{input:function(a){a.target.composing||t.$set(e,"bday",a.target.value)}}})]),a("td",[a("button",{staticClass:"form-control",staticStyle:{color:"maroon"},on:{click:function(e){return t.remove_member(s)}}},[a("span",{staticClass:"fa fa-minus"})])])])})),0)])])])])])])])])])])},Vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-plus"}),t._v(" Register New Family")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-default"},[a("h5",{staticClass:"card-title"},[t._v("Family Details")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-default"},[a("h5",{staticClass:"card-title"},[t._v("Family Members")])])}],Xt=(a("a434"),{name:"newFamily",data:function(){return{family:{name:"",household:"",address:"",barangay:"",street:"",members:[]},sD:!0,errormsg:[]}},computed:Object(n["a"])({},Object(_["c"])("barangay",["barangays"]),{},Object(_["c"])("street",["streets"])),methods:Object(n["a"])({},Object(_["b"])("barangay",["getPlainList"]),{},Object(_["b"])("street",{streetPlain:"getPlainList"}),{prepareStreet:function(){this.sD=!1,this.streetPlain(this.family.barangay)},showuploadfile:function(t){this.$refs.imgFile[t].click()},onFileChange:function(t,e){var a=this,s=t.target.files;if(0==s.length)console.log("empty");else{var r=new FileReader;r.onload=function(t){a.family.members[e].img=t.target.result},r.readAsDataURL(s[0])}this.family.members[e].imgfile=t.target.files[0]},addmember:function(){this.family.members.push({member:"",bday:"",img:"".concat(this.$store.state.apiUrl,"/public/images/default.png"),imgfile:null,gender:"Male"})},remove_member:function(t){this.family.members.splice(t,1)},save:function(){for(var t=this,e=!0,a=0;a<this.family.members.length;a++)""==this.family.members[a].member||""==this.family.members[a].bday?(this.$refs.listmember[a].classList.add("alert-danger"),this.$refs.listbday[a].classList.add("alert-danger"),e=!1):(this.$refs.listmember[a].classList.remove("alert-danger"),this.$refs.listbday[a].classList.remove("alert-danger"));e&&this.$store.dispatch("family/save",this.family).then((function(e){if(e.data.errors)t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show");else{var a=!0;t.family.members.forEach((function(s){s.familyid=e.data.familyid,t.$store.dispatch("family/savemember",s).then((function(){})).catch((function(t){console.log(t),a=!1}))})),a?t.initinputs():console.log("not ok")}})).catch((function(t){500==t.response.status&&alert("Something went wrong !! Please Try again !!")}))},initinputs:function(){for(var t in this.errormsg=[],this.$refs.errormessage.classList.remove("show"),this.family)this.family[t]="members"!=t?"":[]}}),mounted:function(){this.getPlainList(),this.$store.dispatch("activenav","familynav")}}),Zt=Xt,te=(a("c9d5"),Object(m["a"])(Zt,Wt,Vt,!1,null,"017df2ef",null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showeditModal?a("editDetails",{attrs:{familydata:t.familyInfo},on:{closemodal:t.closemodal}}):t._e(),t._m(0),a("hr"),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header",staticStyle:{background:"#10362B",color:"white"}},[a("router-link",{attrs:{to:{name:"family"}}},[a("button",{staticClass:"btn btn-default float-left text-white"},[a("span",{staticClass:"fa fa-arrow-left"}),t._v(" Back")])]),a("router-link",{attrs:{to:{name:"familyPass",params:{id:t.familyInfo.id}}}},[a("button",{staticClass:"btn btn-default float-right text-white"},[a("span",{staticClass:"fa fa-print"}),t._v(" Generate Quarantine Pass")])])],1),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card",staticStyle:{height:"100% !important",width:"100% !important"}},[t._m(1),a("div",{staticClass:"card-body"},[a("canvas",{ref:"qrimage",attrs:{id:"qrimage"}})])])]),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header bg-default"},[a("h5",{staticClass:"card-title"},[t._v("Details "),a("button",{staticClass:"btn btn-default float-right ",on:{click:function(e){t.showeditModal=!0}}},[a("span",{staticClass:"fa fa-pen",staticStyle:{cursor:"pointer",color:"green"}})])])]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-light table-bordered"},[a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("Family Name")]),a("td",[t._v(t._s(t.familyInfo.family))])]),a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("HouseHold #")]),a("td",[t._v(t._s(t.familyInfo.Address.householdNo))])]),a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("Address")]),a("td",[t._v(t._s(t.familyInfo.Address.address))])]),a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("Street")]),a("td",[t._v(t._s(t.familyInfo.Address.Street.street))])]),a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("Barangay")]),a("td",[t._v(t._s(t.familyInfo.Address.Barangay.barangay))])]),a("tr",[a("td",{staticStyle:{width:"20%"}},[t._v("Family Members")]),a("td",[t._v(t._s(t.familyInfo.Members.length))])])])])])])])])])]),a("div",{staticClass:"col-md-12"},[a("familyMembers",{attrs:{members:t.familyInfo.Members},on:{"update:members":function(e){return t.$set(t.familyInfo,"Members",e)}}})],1)],1)},se=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader"},[a("i",{staticClass:"fa fa-info"}),t._v(" Family Information(s)")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-default"},[a("h5",{staticClass:"card-title"},[t._v("QR Code")])])}],re=a("d055"),ie=a.n(re),ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[t.shownewMember?a("newMember",{on:{closemodal:t.closemodal}}):t._e(),t.showeditMember?a("editMember",{attrs:{editMember:t.editData},on:{closemodal:t.closemodal}}):t._e(),a("div",{staticClass:"card-header",staticStyle:{background:"#10362B",color:"white"}},[t._v("Family Members"),a("button",{staticClass:"btn btn-primary float-right",on:{click:function(e){t.shownewMember=!0}}},[a("span",{staticClass:"fa fa-plus"}),t._v(" New")])]),a("div",{staticClass:"card-body"},t._l(t.members,(function(e,s){return a("div",{key:s,staticClass:"col-md-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body",staticStyle:{position:"relative"}},[a("button",{staticClass:"btn btn-default float-right",on:{click:function(e){return t.removemember(s)}}},[a("span",{staticClass:"fa fa-times",staticStyle:{color:"maroon"}})]),a("button",{staticClass:"btn btn-default float-right",on:{click:function(e){return t.editmember(s)}}},[a("span",{staticClass:"fa fa-pen",staticStyle:{color:"green"}})]),null!=e.img&&e.img&&""!=e.img?a("img",{staticStyle:{position:"relative",height:"150px",width:"100%","margin-top":"10px","margin-left":"2px"},attrs:{src:t.apiUrl+"/public/images/families/"+e.familyId+"/"+e.img}}):a("img",{staticStyle:{position:"relative",height:"150px",width:"100%","margin-top":"10px","margin-left":"2px"},attrs:{src:t.apiUrl+"/public/images/default.png"}}),a("table",{staticClass:"table"},[t._m(0,!0),a("tbody",[a("tr",[a("td",[t._v("Name")]),a("td",[t._v(t._s(e.fname))])]),a("tr",[a("td",[t._v("Gender")]),a("td",[t._v(t._s(e.gender))])]),a("tr",[a("td",[t._v("Birthday")]),a("td",[t._v(t._s(t.formatBday(e.Bday)))])]),a("tr",[a("td",[t._v("Age")]),a("td",[t._v(t._s(t.findAge(e.Bday))+" yrs. old")])])])])])])])})),0)],1)},oe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:"2"}},[t._v("Informations")])])])}],le=a("646b"),ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content modal-50"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"close-modal",on:{click:function(e){return t.closethis()}}},[t._v("Ã—")])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("strong",{key:s},[t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),a("br")],2)})),0),a("div",{staticClass:"col-md-6"},[a("img",{style:t.imgstyle,attrs:{src:t.member.img},on:{click:function(e){return t.showuploadfile()}}}),a("input",{ref:"imgupload",staticStyle:{display:"none"},attrs:{type:"file",accept:".png,.jpg,.jpeg"},on:{change:function(e){return t.onFileChange(e)}}})]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Full Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.member.member,expression:"member.member"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.member.member},on:{input:function(e){e.target.composing||t.$set(t.member,"member",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.member.gender,expression:"member.gender"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.member,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Birth Day")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.member.bday,expression:"member.bday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.member.bday},on:{input:function(e){e.target.composing||t.$set(t.member,"bday",e.target.value)}}})]),a("button",{staticClass:"btn btn-primary float-right",on:{click:function(e){return t.saveMember()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Save")])])])])])},de=[],me={name:"newMember",data:function(){return{member:{familyid:this.$route.params.id,member:"",bday:"",gender:"",img:"".concat(this.$store.state.apiUrl,"/public/images/default.png"),imgfile:null},imgstyle:{height:"100%",width:"100%"},errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},showuploadfile:function(){this.$refs.imgupload.click()},onFileChange:function(t){var e=this,a=t.target.files;if(0==a.length)console.log("empty");else{var s=new FileReader;s.onload=function(t){e.member.img=t.target.result},s.readAsDataURL(a[0])}this.member.imgfile=t.target.files[0]},saveMember:function(){var t=this;this.$store.dispatch("family/newmember",this.member).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()}))}}},ue=me,fe=Object(m["a"])(ue,ce,de,!1,null,null,null),pe=fe.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content modal-50"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"close-modal",on:{click:function(e){return t.closethis()}}},[t._v("Ã—")])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("strong",{key:s},[t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),a("br")],2)})),0),a("div",{staticClass:"col-md-6"},[t.member.img?a("img",{ref:"imageMember",style:t.imgstyle,attrs:{src:t.apiUrl+"/public/images/families/"+t.member.familyId+"/"+t.member.img},on:{click:function(e){return t.showuploadfile()}}}):a("img",{ref:"imageMember",style:t.imgstyle,attrs:{src:t.apiUrl+"/public/images/default.png"},on:{click:function(e){return t.showuploadfile()}}}),a("input",{ref:"imgupload",staticStyle:{display:"none"},attrs:{type:"file",accept:".png,.jpg,.jpeg"},on:{change:function(e){return t.onFileChange(e)}}})]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Full Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.member.fname,expression:"member.fname"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.member.fname},on:{input:function(e){e.target.composing||t.$set(t.member,"fname",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.member.gender,expression:"member.gender"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.member,"gender",e.target.multiple?a:a[0])}}},[a("option",[t._v("Male")]),a("option",[t._v("Female")])])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Birth Day")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.member.Bday,expression:"member.Bday"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.member.Bday},on:{input:function(e){e.target.composing||t.$set(t.member,"Bday",e.target.value)}}})]),a("button",{staticClass:"btn btn-primary float-right",on:{click:function(e){return t.updateMember()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])])},ge=[],ve={name:"newMember",props:{editMember:{type:Object,required:!0}},data:function(){return{member:JSON.parse(JSON.stringify(this.editMember)),apiUrl:this.$store.state.apiUrl,imgstyle:{height:"100%",width:"100%"},errormsg:[]}},methods:{closethis:function(){this.$emit("closemodal")},showuploadfile:function(){this.$refs.imgupload.click()},onFileChange:function(t){var e=this,a=t.target.files;if(0==a.length)console.log("empty");else{var s=new FileReader;s.onload=function(t){e.$refs["imageMember"].setAttribute("src",t.target.result)},s.readAsDataURL(a[0])}this.member.imgfile=t.target.files[0]},updateMember:function(){var t=this;this.$store.dispatch("family/editMember",this.member).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()}))}}},ye=ve,be=Object(m["a"])(ye,he,ge,!1,null,null,null),_e=be.exports,Ce={name:"familyMembers",props:{members:{type:Array,required:!0}},data:function(){return{familyMembers:JSON.parse(JSON.stringify(this.members)),apiUrl:this.$store.state.apiUrl,shownewMember:!1,showeditMember:!1,editData:{}}},methods:{findAge:function(t){return Object(le["calculateAge"])(t)},formatBday:function(t){return Object(le["formatBdayDate"])(t)},removemember:function(t){confirm("Are you sure you want to remove this?")&&this.$store.dispatch("family/removeMember",this.members[t])},editmember:function(t){this.editData=this.members[t],this.showeditMember=!0},closemodal:function(){this.shownewMember=!1,this.showeditMember=!1}},components:{newMember:pe,editMember:_e}},we=Ce,Se=Object(m["a"])(we,ne,oe,!1,null,null,null),xe=Se.exports,ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content modal-50"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"close-modal",on:{click:function(e){return t.closethis()}}},[t._v("Ã—")])]),a("div",{staticClass:"modal-body"},[a("div",{ref:"errormessage",staticClass:"alert alert-danger alert-dismissible fade",attrs:{role:"alert"}},t._l(t.errormsg,(function(e,s){return a("strong",{key:s},[t._l(e,(function(e,s){return a("span",{key:s},[t._v(t._s(e))])})),a("br")],2)})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Family Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.family.family,expression:"family.family"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.family.family},on:{input:function(e){e.target.composing||t.$set(t.family,"family",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Household No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.family.Address.householdNo,expression:"family.Address.householdNo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.family.Address.householdNo},on:{input:function(e){e.target.composing||t.$set(t.family.Address,"householdNo",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.family.Address.address,expression:"family.Address.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.family.Address.address},on:{input:function(e){e.target.composing||t.$set(t.family.Address,"address",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Barangay")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.family.Address.Barangay.id,expression:"family.Address.Barangay.id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.family.Address.Barangay,"id",e.target.multiple?a:a[0])},t.prepareStreet]}},t._l(t.barangays,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.barangay))])})),0)]),a("div",{staticClass:"form-group"},[a("label",[t._v("Street")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.family.Address.Street.id,expression:"family.Address.Street.id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.family.Address.Street,"id",e.target.multiple?a:a[0])}}},t._l(t.streets,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.street))])})),0)]),a("button",{staticClass:"btn btn-primary float-right",on:{click:function(e){return t.update()}}},[a("span",{staticClass:"fa fa-check"}),t._v(" Update")])])])])},$e=[],Ae={name:"editfamilyDetails",data:function(){return{family:JSON.parse(JSON.stringify(this.familydata)),sD:!0,errormsg:[]}},props:{familydata:{type:Object,required:!0}},computed:Object(n["a"])({},Object(_["c"])("barangay",["barangays"]),{},Object(_["c"])("street",["streets"])),methods:Object(n["a"])({closethis:function(){this.$emit("closemodal")}},Object(_["b"])("barangay",["getPlainList"]),{},Object(_["b"])("street",{streetPlain:"getPlainList"}),{},Object(_["b"])("family",["updateDetails"]),{prepareStreet:function(){this.sD=!1,this.family.Address.Street.id=null,this.streetPlain(this.family.Address.Barangay.id)},update:function(){var t=this,e={id:this.family.id,family:this.family.family,household:this.family.Address.householdNo,address:this.family.Address.address,addressID:this.family.Address.id,barangay:this.family.Address.Barangay.id,street:this.family.Address.Street.id};this.updateDetails(e).then((function(e){e.data.errors?(t.errormsg=e.data.errors,t.$refs.errormessage.classList.add("show")):t.closethis()})).catch((function(t){return console.log(t)}))}}),mounted:function(){this.getPlainList(),this.streetPlain(this.family.Address.Barangay.id)}},Ne=Ae,Oe=Object(m["a"])(Ne,ke,$e,!1,null,null,null),Pe=Oe.exports,Ue={name:"familyDetails",data:function(){return{showeditModal:!1}},computed:Object(n["a"])({},Object(_["c"])("family",["familyInfo"])),methods:Object(n["a"])({},Object(_["b"])("family",["getFamily"]),{generateQrImage:function(t,e,a,s){ie.a.toCanvas(this.$refs[t],e,(function(t){t&&console.error(t)})),this.$refs[t].style.width=a,this.$refs[t].style.height=s},closemodal:function(){this.showeditModal=!1}}),mounted:function(){var t=this;this.getFamily(this.$route.params.id).then((function(){t.generateQrImage("qrimage",t.familyInfo.QrCode,"100%","100%")})).catch((function(t){console.log(t)})),this.$store.dispatch("activenav","familynav")},components:{familyMembers:xe,editDetails:Pe}},De=Ue,je=Object(m["a"])(De,ae,se,!1,null,"918dd4dc",null),Ie=je.exports,Le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticClass:"pageheader noprint"},[a("i",{staticClass:"fa fa-print"}),t._v(" Quarantine Pass for "+t._s(t.familyInfo.family)+" Family")]),a("hr",{staticClass:"noprint"}),a("router-link",{staticClass:"noprint",attrs:{to:{name:"familyDetails",params:{id:t.id}}}},[a("button",{staticClass:"btn btn-primary float-left text-white"},[a("span",{staticClass:"fa fa-arrow-left"}),t._v(" Back")])]),a("button",{staticClass:"btn btn-primary float-right text-white noprint",on:{click:function(e){return t.printnow()}}},[a("span",{staticClass:"fa fa-print"}),t._v(" Print")]),a("br"),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"passbody"},[a("h2",{staticStyle:{"margin-bottom":"30px","margin-top":"20px","font-weight":"bold",color:"blue"}},[t._v("BRGY. "+t._s(t.familyInfo.Address.Barangay.barangay.toUpperCase()))]),a("p",{staticStyle:{"font-weight":"bold",color:"maroon","font-size":"20pt","margin-bottom":"30px"}},[t._v("HOME QUARANTINE PASS")]),t._m(0),a("hr"),t._m(1),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("canvas",{ref:"qrimage",attrs:{id:"qrimage"}})]),a("div",{staticClass:"col-md-7",staticStyle:{"text-align":"left"}},[a("p",{staticStyle:{"margin-top":"40px","font-size":"12pt"}},[t._v(t._s(t.familyInfo.family.toUpperCase()))]),a("p",{staticStyle:{"font-size":"12pt","font-weight":"bold"}},[t._v("NAME OF FAMILY HEAD")]),a("p",{staticStyle:{"font-size":"12pt"}},[t._v(t._s((t.familyInfo.Address.address+","+t.familyInfo.Address.Street.street).toUpperCase()))]),a("p",{staticStyle:{"font-size":"12pt","font-weight":"bold"}},[t._v("ADDRESS")])])]),a("hr"),a("span",{staticClass:"float-left",staticStyle:{"font-weight":"bold","font-size":"8pt"}},[t._v("HOUSEHOLD NO: "+t._s(t.familyInfo.Address.householdNo))]),a("span",{staticClass:"float-right",staticStyle:{"font-weight":"bold","font-size":"8pt"}},[t._v("PUNONG BARANGAY: "+t._s(t.familyInfo.Address.Barangay.chairman))]),a("br")])])])],1)},Ee=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"font-size":"16pt","font-weight":"bold","margin-bottom":"30px"}},[t._v(" EKSKLUSIBONG GAMIT NG ISANG MIYEMBRO"),a("br"),t._v(" LAMANG NG BAWAT PAMILYA NA TAGABILI"),a("br"),t._v(" NG KAILANGANG GAMOT AT PAGKAIN. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"font-size":"11pt","font-weight":"bold","margin-bottom":"30px"}},[t._v(" HUHULIHIN ANG SINO MANG WALANG "),a("span",{staticStyle:{color:"maroon"}},[t._v("HOME QUARANTINE PASS")])])}],Fe={name:"pass",data:function(){return{id:this.$route.params.id}},computed:Object(n["a"])({},Object(_["c"])("family",["familyInfo"])),methods:Object(n["a"])({},Object(_["b"])("family",["getFamily"]),{generateQrImage:function(t,e,a,s){ie.a.toCanvas(this.$refs[t],e,(function(t){t&&console.error(t)})),this.$refs[t].style.width=a,this.$refs[t].style.height=s},printnow:function(){window.print()}}),mounted:function(){var t=this;this.getFamily(this.$route.params.id).then((function(){t.generateQrImage("qrimage",t.familyInfo.QrCode,"100%","100%")})).catch((function(t){console.log(t)})),this.$store.dispatch("activenav","familynav")}},Me=Fe,Be=(a("5fda"),Object(m["a"])(Me,Le,Ee,!1,null,"3dd4a7a1",null)),ze=Be.exports,Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("hr",{staticClass:"noprint"}),a("router-link",{staticClass:"noprint",attrs:{to:{name:"family"}}},[a("button",{staticClass:"btn btn-primary float-left text-white"},[a("span",{staticClass:"fa fa-arrow-left"}),t._v(" Back")])]),a("button",{staticClass:"btn btn-primary float-right text-white noprint",on:{click:function(e){return t.printnow()}}},[a("span",{staticClass:"fa fa-print"}),t._v(" Print")]),a("br"),t.loading?a("loadingComponent"):t._e(),a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},t._l(t.familyList,(function(e,s){return a("div",{key:s,staticClass:"col-md-6"},[a("div",{staticClass:"passbody"},[a("h2",{staticStyle:{"margin-bottom":"30px","margin-top":"20px","font-weight":"bold",color:"blue"}},[t._v("BRGY. "+t._s(e.Address.Barangay.barangay.toUpperCase()))]),a("p",{staticStyle:{"font-weight":"bold",color:"maroon","font-size":"20pt","margin-bottom":"30px"}},[t._v("HOME QUARANTINE PASS")]),t._m(1,!0),a("hr"),t._m(2,!0),a("hr"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("canvas",{ref:"qrcodeImage",refInFor:!0,attrs:{id:"qrcodeImage"+s}})]),a("div",{staticClass:"col-md-7",staticStyle:{"text-align":"left"}},[a("p",{staticStyle:{"margin-top":"40px","font-size":"12pt"}},[t._v(t._s(e.family.toUpperCase()))]),a("p",{staticStyle:{"font-size":"12pt","font-weight":"bold"}},[t._v("NAME OF FAMILY HEAD")]),a("p",{staticStyle:{"font-size":"12pt"}},[t._v(t._s((e.Address.address+","+e.Address.Street.street).toUpperCase()))]),a("p",{staticStyle:{"font-size":"12pt","font-weight":"bold"}},[t._v("ADDRESS")])])]),a("hr"),a("span",{staticClass:"float-left",staticStyle:{"font-weight":"bold","font-size":"8pt"}},[t._v("HOUSEHOLD NO: "+t._s(e.Address.householdNo))]),a("span",{staticClass:"float-right",staticStyle:{"font-weight":"bold","font-size":"8pt"}},[t._v("PUNONG BARANGAY: "+t._s(e.Address.Barangay.chairman))]),a("br")])])})),0)],1)},Ge=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"pageheader noprint"},[a("i",{staticClass:"fa fa-print"}),t._v(" Quarantine Pass for All Family")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"font-size":"16pt","font-weight":"bold","margin-bottom":"30px"}},[t._v(" EKSKLUSIBONG GAMIT NG ISANG MIYEMBRO"),a("br"),t._v(" LAMANG NG BAWAT PAMILYA NA TAGABILI"),a("br"),t._v(" NG KAILANGANG GAMOT AT PAGKAIN. ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticStyle:{"font-size":"11pt","font-weight":"bold","margin-bottom":"30px"}},[t._v(" HUHULIHIN ANG SINO MANG WALANG "),a("span",{staticStyle:{color:"maroon"}},[t._v("HOME QUARANTINE PASS")])])}],Re={name:"passAll",data:function(){return{familyList:[],loading:!0}},mounted:function(){var t=this;this.$store.dispatch("activenav","familynav"),this.getAll().then((function(){t.familyList=t.families})),this.getAll().then((function(){t.loading=!1;for(var e=0;e<t.families.length;e++)ie.a.toCanvas(t.$refs["qrcodeImage"][e],t.families[e].QrCode,(function(t){t&&console.error(t)})),t.$refs["qrcodeImage"][e].style.width="100%",t.$refs["qrcodeImage"][e].style.height="100%"}))},methods:Object(n["a"])({},Object(_["b"])("family",["getAll"]),{printnow:function(){window.print()}}),computed:Object(n["a"])({},Object(_["c"])("family",["families"])),components:{loadingComponent:V}},Je=Re,He=(a("a3a3"),Object(m["a"])(Je,Te,Ge,!1,null,"5c0bb7de",null)),qe=He.exports,Qe=[{path:"/",component:U,name:"dashboard"},{path:"/barangay",component:et,name:"barangay"},{path:"/user",component:kt,name:"user"},{path:"/barangay/:barangay/:id",component:Rt,name:"barangaystreets"},{path:"/family",component:Kt,name:"family"},{path:"/family/create",component:ee,name:"newFamily"},{path:"/family/details/:id",component:Ie,name:"familyDetails"},{path:"/familyPass/:id",component:ze,name:"familyPass"},{path:"/QuarantinePass/all",component:qe,name:"familyPassAll"}],Ye={routes:Qe},Ke=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},We=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("ERROR 404 || PAGE NOT FOUND")]),a("a",{attrs:{href:"javascript:history.back()"}},[t._v("BACK")])])}],Ve={name:"notfound"},Xe=Ve,Ze=(a("f8b1"),Object(m["a"])(Xe,Ke,We,!1,null,"15d41b7a",null)),ta=Ze.exports;s["a"].use(k["a"]);var ea=[];Ye.routes.forEach((function(t){ea.push(t)})),ea.push({path:"*",component:ta});var aa=new k["a"]({mode:"history",hash:!1,routes:ea}),sa=a("bc3a"),ra=a.n(sa),ia=(a("99af"),{namespaced:!0,state:{barangays:[]},actions:{searchBarangay:function(t,e){return new Promise((function(a,s){setTimeout((function(){ra.a.get("".concat(t.rootState.apiUrl,"/api/barangay/getList/").concat(e),t.rootState.headerconfig).then((function(e){a(e),t.commit("setbarangay",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}),300)}))},getPlainList:function(t){ra.a.get("".concat(t.rootState.apiUrl,"/api/barangay/getPlainList"),t.rootState.headerconfig).then((function(e){t.commit("setbarangay",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},getList:function(t){return new Promise((function(e,a){setTimeout((function(){ra.a.get("".concat(t.rootState.apiUrl,"/api/barangay/getList"),t.rootState.headerconfig).then((function(a){e(a),t.commit("setbarangay",a.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),a(e)}))}),300)}))},saveBarangay:function(t,e){return new Promise((function(a,s){ra.a.post("".concat(t.rootState.apiUrl,"/api/barangay/save"),e,t.rootState.headerconfig).then((function(e){a(e),e.data.errors||t.commit("updateList",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},updateBarangay:function(t,e){return new Promise((function(a,s){ra.a.patch("".concat(t.rootState.apiUrl,"/api/barangay/update/").concat(e.id),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("editList",{data:s.data,index:e.index})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},removeBarangay:function(t,e){ra.a.patch("".concat(t.rootState.apiUrl,"/api/barangay/archive/").concat(e.barangay.id),e,t.rootState.headerconfig).then((function(a){"archived"==a.data&&t.commit("removeBarangay",e.index)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))}},getters:{barangays:function(t){return t.barangays}},mutations:{setbarangay:function(t,e){t.barangays=e},updateList:function(t,e){t.barangays.push(e)},editList:function(t,e){t.barangays[e.index]=e.data},removeBarangay:function(t,e){t.barangays.splice(e,1)}}}),na={namespaced:!0,state:{users:[]},actions:{getUsers:function(t){return new Promise((function(e,a){setTimeout((function(){ra.a.get("".concat(t.rootState.apiUrl,"/api/user/getList"),t.rootState.headerconfig).then((function(a){t.commit("setuser",a.data.data),e(a)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),a(e)}))}),300)}))},searchUser:function(t,e){return new Promise((function(a,s){setTimeout((function(){ra.a.get("".concat(t.rootState.apiUrl,"/api/user/getList/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setuser",e.data.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}),300)}))},saveuser:function(t,e){return new Promise((function(a,s){ra.a.post("".concat(t.rootState.apiUrl,"/api/user/save"),e,t.rootState.headerconfig).then((function(e){a(e),e.data.errors||t.commit("updateList",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},removeUser:function(t,e){ra.a.patch("".concat(t.rootState.apiUrl,"/api/user/archive/").concat(e.user.id),e,t.rootState.headerconfig).then((function(a){"archived"==a.data&&t.commit("removeUser",e.index)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},changepass:function(t,e){return new Promise((function(a,s){ra.a.patch("".concat(t.rootState.apiUrl,"/api/user/changepass/").concat(e.id),e.data,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("updateUser",{user:s.data,index:e.index})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},updateUser:function(t,e){return new Promise((function(a,s){ra.a.patch("".concat(t.rootState.apiUrl,"/api/user/update/").concat(e.id),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("updateUser",{user:s.data,index:e.index})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))}},getters:{users:function(t){return t.users}},mutations:{setuser:function(t,e){t.users=e},updateList:function(t,e){t.users.push(e)},removeUser:function(t,e){t.users.splice(e,1)},updateUser:function(t,e){t.users[e.index]=e.user}}},oa=(a("841c"),{namespaced:!0,state:{streets:[],apiUrl:"http://192.168.100.12:8080"},actions:{getPlainList:function(t,e){ra.a.get("".concat(t.rootState.apiUrl,"/api/street/getPlainList/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setStreet",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))},searchStreet:function(t,e){return new Promise((function(a,s){setTimeout((function(){ra.a.get("".concat(t.rootState.apiUrl,"/api/street/getList/").concat(e.bid,"/").concat(e.search),t.rootState.headerconfig).then((function(e){t.commit("setStreet",e.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}),300)}))},getList:function(t,e){return new Promise((function(a,s){setTimeout((function(){ra.a.get("".concat(t.rootState.apiUrl,"/api/street/getList/").concat(e),t.rootState.headerconfig).then((function(e){t.commit("setStreet",e.data),a(e)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}),300)}))},save:function(t,e){return new Promise((function(a,s){ra.a.post("".concat(t.rootState.apiUrl,"/api/street/save"),e,t.rootState.headerconfig).then((function(e){a(e),e.data.errors||t.commit("pushStreet",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},updateStreet:function(t,e){return new Promise((function(a,s){ra.a.patch("".concat(t.rootState.apiUrl,"/api/street/update/").concat(e.id),e,t.rootState.headerconfig).then((function(s){a(s),s.data.errors||t.commit("updateStreet",{street:s.data,index:e.index})})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&(t.dispatch("refreshtoken",null,{root:!0}),s(e))}))}))},removeStreet:function(t,e){ra.a.patch("".concat(t.rootState.apiUrl,"/api/street/archive/").concat(e.street.id),e,t.rootState.headerconfig).then((function(a){"archived"==a.data&&t.commit("removeStreet",e.index)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))}},getters:{streets:function(t){return t.streets}},mutations:{setStreet:function(t,e){t.streets=e.data},pushStreet:function(t,e){t.streets.push(e)},updateStreet:function(t,e){t.streets[e.index]=e.street},removeStreet:function(t,e){t.streets.splice(e,1)}}}),la={namespaced:!0,state:{family:[],familyDetails:{}},actions:{save:function(t,e){return new Promise((function(a,s){ra.a.post("".concat(t.rootState.apiUrl,"/api/family/newData"),e,t.rootState.headerconfig).then((function(t){a(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},savemember:function(t,e){var a=new FormData;a.append("fname",e.member),a.append("Bday",e.bday),a.append("familyId",e.familyid),a.append("gender",e.gender),a.append("imgfile",e.imgfile);var s={headers:{"content-type":"multipart/form-data",Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.accesstoken)}};return new Promise((function(e,r){ra.a.post("".concat(t.rootState.apiUrl,"/api/family/savemember"),a,s).then((function(t){e(t)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),r(e)}))}))},getAll:function(t){return new Promise((function(e,a){setTimeout((function(){ra.a.get("".concat(t.rootState.apiUrl,"/api/family/getList"),t.rootState.headerconfig).then((function(a){e(a),t.commit("setfamily",a.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),a(e)}))}),300)}))},searchFamily:function(t,e){return new Promise((function(a,s){setTimeout((function(){ra.a.get("".concat(t.rootState.apiUrl,"/api/family/getList/").concat(e),t.rootState.headerconfig).then((function(e){a(e),t.commit("setfamily",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}),300)}))},getFamily:function(t,e){return new Promise((function(a,s){ra.a.get("".concat(t.rootState.apiUrl,"/api/family/getDetails/").concat(e),t.rootState.headerconfig).then((function(e){a(e),t.commit("setFamilyDetails",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},updateDetails:function(t,e){return new Promise((function(a,s){ra.a.patch("".concat(t.rootState.apiUrl,"/api/family/updateDetails/").concat(e.id),e,t.rootState.headerconfig).then((function(e){a(e),t.commit("setFamilyDetails",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),s(e)}))}))},removeMember:function(t,e){ra.a.delete("".concat(t.rootState.apiUrl,"/api/family/removeMember/").concat(e.id),t.rootState.headerconfig).then((function(e){t.commit("setFamilyDetails",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),console.log(e)}))},newmember:function(t,e){var a=new FormData;a.append("fname",e.member),a.append("Bday",e.bday),a.append("familyId",e.familyid),a.append("gender",e.gender),a.append("imgfile",e.imgfile);var s={headers:{"content-type":"multipart/form-data",Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.accesstoken)}};return new Promise((function(e,r){ra.a.post("".concat(t.rootState.apiUrl,"/api/family/newmember"),a,s).then((function(a){e(a),t.commit("setFamilyDetails",a.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),r(e)}))}))},editMember:function(t,e){console.log(e);var a=new FormData;a.append("fname",e.fname),a.append("Bday",e.Bday),a.append("img",e.img),a.append("gender",e.gender),a.append("familyId",e.FamilyId),e.imgfile&&a.append("imgfile",e.imgfile);var s={headers:{"content-type":"multipart/form-data",Accept:"application/json",Authorization:"Bearer ".concat(t.rootState.accesstoken)}};return new Promise((function(r,i){ra.a.patch("".concat(t.rootState.apiUrl,"/api/family/updateMember/").concat(e.id),a,s).then((function(e){r(e),t.commit("setFamilyDetails",e.data.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0}),i(e)}))}))}},getters:{families:function(t){return t.family},familyInfo:function(t){return t.familyDetails}},mutations:{setfamily:function(t,e){t.family=e},setFamilyDetails:function(t,e){t.familyDetails=e}}},ca={namespaced:!0,state:{data:{}},actions:{getData:function(t){ra.a.get("".concat(t.rootState.apiUrl,"/api/dashboard/getData"),t.rootState.headerconfig).then((function(e){console.log(e.data),t.commit("setData",e.data)})).catch((function(e){401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken",null,{root:!0})}))}},getters:{getData:function(t){return t.data}},mutations:{setData:function(t,e){t.data=e}}};s["a"].use(_["a"]);var da=new _["a"].Store({modules:{barangay:ia,user:na,street:oa,family:la,dashboard:ca},state:{islogin:localStorage.getItem("islogin")||!1,accesstoken:localStorage.getItem("accesstoken")||null,refreshtoken:localStorage.getItem("refreshtoken")||null,userinfo:localStorage.getItem("userinfo")||null,headerconfig:{headers:{Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accesstoken"))}},apiUrl:"http://192.168.100.12:8080"},getters:{},actions:{activenav:function(t,e){var a=document.querySelectorAll("aside ul li");a.forEach((function(t){t.classList.remove("active")})),document.getElementById("".concat(e)).classList.add("active")},authenticated:function(t,e){localStorage.setItem("accesstoken",e.data.accesstoken),localStorage.setItem("refreshtoken",e.data.refreshtoken),localStorage.setItem("userinfo",JSON.stringify(e.data.user)),localStorage.setItem("islogin",!0),t.commit("changetokenstate",e.data),t.commit("changeislogin",{status:!0})},login:function(t,e){return new Promise((function(t,a){ra.a.post("http://192.168.100.12:8080/api/auth/login",e).then((function(e){t(e)})).catch((function(t){return a(t)}))}))},logout:function(t){ra.a.delete("http://192.168.100.12:8080/api/auth/logout",t.state.headerconfig).then((function(){localStorage.removeItem("accesstoken"),localStorage.removeItem("refreshtoken"),localStorage.removeItem("userinfo"),localStorage.removeItem("islogin"),t.commit("changeislogin",{status:!1})})).catch((function(e){console.log(e),401==e.response.status&&"Unauthorized"==e.response.data&&t.dispatch("refreshtoken")}))},refreshtoken:function(t){ra.a.post("http://192.168.100.12:8080/api/auth/refreshtoken",{refreshtoken:t.state.refreshtoken}).then((function(e){console.log(e),t.dispatch("authenticated",e),window.location.reload()})).catch((function(e){403!=e.response.status&&401!=e.response.status||!e.response.data.msg||(t.dispatch("logout"),window.location.href="/")}))}},mutations:{changeislogin:function(t,e){t.islogin=e.status},changetokenstate:function(t,e){t.accesstoken=e.accesstoken,t.refreshtoken=e.refreshtoken,t.headerconfig.headers.Authorization="Bearer ".concat(e.accesstoken),t.userinfo=JSON.stringify(e.user)}}});a("ed18").config(),s["a"].config.productionTip=!1,new s["a"]({router:aa,store:da,render:function(t){return t(x)}}).$mount("#app")},"5fda":function(t,e,a){"use strict";var s=a("c245"),r=a.n(s);r.a},"646b":function(t,e,a){a("99af");var s=function(t){var e,a=new Date,s=a.getFullYear(),r=a.getMonth(),i=a.getDate(),n=new Date(t),o=n.getFullYear(),l=n.getMonth(),c=n.getDate();return e=r<l||r==l&&i<c?s-o-1:s-o,e},r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=function(t){var e=new Date(t);return"".concat(r[e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())};t.exports={calculateAge:s,formatBdayDate:i}},"73de":function(t,e,a){"use strict";var s=a("4600"),r=a.n(s);r.a},"7e7d":function(t,e,a){},"85ec":function(t,e,a){},a3a3:function(t,e,a){"use strict";var s=a("37de"),r=a.n(s);r.a},a95b:function(t,e,a){},c245:function(t,e,a){},c9d5:function(t,e,a){"use strict";var s=a("a95b"),r=a.n(s);r.a},cf1c:function(t,e,a){t.exports=a.p+"img/loading.e4b6323e.gif"},d246:function(t,e,a){},debf:function(t,e,a){},f8b1:function(t,e,a){"use strict";var s=a("d246"),r=a.n(s);r.a},fa5e:function(t,e,a){t.exports=a.p+"img/loader.dc22777d.gif"},ff1b:function(t,e,a){}});
//# sourceMappingURL=app.cd4b4de9.js.map